<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex Interactiva - Scroll Infinito</title>
    <meta name="description" content="Explora todos los Pok√©mon con nuestra Pok√©dex interactiva. Scroll infinito, b√∫squeda avanzada y detalles completos.">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üê±</text></svg>">
    
    <!-- Preload para mejor performance -->
    <link rel="preconnect" href="https://pokeapi.co">
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    
    <style>
        /* Loading inicial */
        #initial-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }
        
        .loading-pokeball {
            width: 80px;
            height: 80px;
            border: 4px solid white;
            border-radius: 50%;
            position: relative;
            margin-bottom: 20px;
            animation: bounce 1s infinite alternate;
        }
        
        .loading-pokeball::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: white;
        }
        
        .loading-pokeball::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: white;
            border: 4px solid #ff0000;
            border-radius: 50%;
        }
        
        @keyframes bounce {
            from { transform: translateY(0px); }
            to { transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <!-- Loading inicial -->
    <div id="initial-loading">
        <div class="loading-pokeball"></div>
        <h2>Pok√©dex Interactiva</h2>
        <p>Cargando el mundo Pok√©mon...</p>
    </div>

    <!-- Contenido principal -->
    <div class="container" style="display: none;">
        <header>
            <div class="logo">Pok√©dex</div>
            <p class="subtitle">Explora el maravilloso mundo de los Pok√©mon</p>
            
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="search-input" placeholder="Busca por nombre o n√∫mero... Ej: Pikachu o 25">
                    <button id="search-btn" aria-label="Buscar Pok√©mon">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            
            <div class="filters">
                <!-- Los filtros se cargar√°n con JavaScript -->
            </div>

            <div class="app-info">
                <span id="pokemon-count">Cargando Pok√©mon...</span>
                <span class="app-version">v2.0 ‚Ä¢ Scroll Infinito</span>
            </div>
        </header>
        
        <main>
            <div class="pokemon-grid" id="pokemon-container">
                <!-- Los Pok√©mon se cargar√°n aqu√≠ mediante scroll infinito -->
            </div>
            
            <div id="loading-indicator" class="loading-indicator" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> 
                <span id="loading-text">Cargando Pok√©mon...</span>
            </div>

            <div class="scroll-hint" id="scroll-hint">
                <i class="fas fa-chevron-down"></i>
                <p>Despl√°zate hacia abajo para cargar m√°s Pok√©mon</p>
            </div>
        </main>
        
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Pok√©dex Interactiva</h4>
                    <p>Explora todos los Pok√©mon con scroll infinito</p>
                </div>
                <div class="footer-section">
                    <h4>Datos</h4>
                    <p>Informaci√≥n proporcionada por <a href="https://pokeapi.co/" target="_blank">PokeAPI</a></p>
                </div>
                <div class="footer-section">
                    <h4>Caracter√≠sticas</h4>
                    <ul>
                        <li>Scroll Infinito</li>
                        <li>B√∫squeda en tiempo real</li>
                        <li>Filtros por tipo</li>
                        <li>Dise√±o responsive</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Pok√©dex Interactiva. Todos los derechos reservados.</p>
                <p class="api-credit">Datos de Pok√©mon proporcionados por <a href="https://pokeapi.co/" target="_blank">PokeAPI</a></p>
            </div>
        </footer>
    </div>
    
    <!-- Modal para detalles del Pok√©mon -->
    <div class="modal" id="pokemon-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal" aria-label="Cerrar modal">&times;</span>
            <div id="pokemon-detail">
                <!-- Los detalles del Pok√©mon se cargar√°n aqu√≠ -->
            </div>
        </div>
    </div>

    <!-- Bot√≥n de tema -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Cambiar tema">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Bot√≥n de scroll to top -->
    <button class="scroll-to-top" id="scroll-to-top" aria-label="Volver arriba">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Scripts en ORDEN CORRECTO -->
    <script src="js/pokemon-data.js"></script>
    <script src="js/pokeapi-service.js"></script>
    <script src="js/evolution-system.js"></script>
    <script src="js/stats-chart.js"></script>
    <script src="js/theme-manager.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>

    <!-- Script de inicializaci√≥n -->
    <script>
        // Ocultar loading inicial y mostrar contenido cuando todo est√© listo
        window.addEventListener('load', function() {
            setTimeout(() => {
                const loading = document.getElementById('initial-loading');
                const container = document.querySelector('.container');
                
                if (loading && container) {
                    loading.style.opacity = '0';
                    container.style.display = 'block';
                    
                    setTimeout(() => {
                        loading.style.display = 'none';
                    }, 500);
                }
            }, 1000);
        });

        // Scroll to top functionality
        document.addEventListener('DOMContentLoaded', function() {
            const scrollToTopBtn = document.getElementById('scroll-to-top');
            
            if (scrollToTopBtn) {
                // Mostrar/ocultar bot√≥n based on scroll position
                window.addEventListener('scroll', function() {
                    if (window.pageYOffset > 300) {
                        scrollToTopBtn.style.display = 'block';
                    } else {
                        scrollToTopBtn.style.display = 'none';
                    }
                });
                
                // Scroll to top cuando se hace clic
                scrollToTopBtn.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
        });

        // Mostrar hint de scroll inicial
        setTimeout(() => {
            const scrollHint = document.getElementById('scroll-hint');
            if (scrollHint) {
                scrollHint.style.display = 'block';
                
                // Ocultar despu√©s de 5 segundos
                setTimeout(() => {
                    scrollHint.style.opacity = '0';
                    setTimeout(() => {
                        scrollHint.style.display = 'none';
                    }, 500);
                }, 5000);
            }
        }, 2000);
    </script>
</body>
</html>